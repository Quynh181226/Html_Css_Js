<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <script>

        //Viết một chương trình có menu để quản
        //lý nhân viên với các yêu cầu sau:
        // khai báo mảng chứa danh sách nhân viên

        let employees = [];
        // khai báo đối tượng nhân viên
        // let employee={
        //     id:1,
        //     name:"nguyễn tiến đat",
        //     position:"developer",
        //     salary:5000
        // }
        while (true) {
            /*
            1. Thêm nhân viên mới.
            2. Xóa nhân viên theo id.
               Tìm thấy nhân viên có id confirm người dùng muốn xóa nhân viên hay không?
                Không tìm thấy nhân viên có id thì hiển thị thông báo.
            3. Cập nhật mức lương của nhân viên theo id
            4. Tìm kiếm nhân viên theo tên.
            */
            let choice = +prompt(` 
            1. Thêm nhân viên mới.
            2. Xóa nhân viên theo id.
            3. Cập nhật mức lương của nhân viên theo id
            4. Tìm kiếm nhân viên theo tên.
            Your choice is:`);
            switch (choice) {
                case 1:
                    addEmployee();
                    break;
                case 2:
                    deleteEmployee();
                    break;
                case 3:
                    updateSalary();
                    break;
                case 4:
                    searchName();
                    break;
                default:
                    alert(`Invalid`);
                    break;
            }
            if (choice == 4) {
                break;
            }

        }
        function addEmployee() {
            let name = prompt("tên nhân viên");
            let position = prompt("vị trí");
            let salary = prompt("nhập lương");
            // khởi tạo đối tượng
            let employee = {
                id: Math.floor(Math.random() * 565466646 + new Date().getMilliseconds()),
                name: name,
                position: position,
                salary: salary
            }
            employees.push(employee);
            console.log("thêm nhân viên thành công", employees);

        }
        function deleteEmployee() {
            if (employees.length === 0) {
                alert(`List employees empty`);
            } else {
                const idInput = +prompt(`Input id need delete:`);
                const deleteEmployee = book.findIndex((item) => item.id === idInput);
                if (deleteEmployee !== -1) {
                    let check = confirm(`Are your sure want to delete emplyeees:`);
                    if (check) {
                        book.splice(deleteEmployee, 1);
                        alert(`Delete success`);
                        console.table(employees);
                    }
                } else {
                    alert(`Employees not found`);
                }
            }
        }
        function updateSalary() {
            if (employees.length === 0) {
                alert(`List employee empty`);
            } else {
                const idInput = +prompt(`Input id employee update status:`);
                let index = employees.findIndex(item => item.id === idInput);
                if (index === -1) {
                    console.log(`Employee with ID ${idInput} not found`);
                } else {
                    let check = confirm(`Employee with status "${employees[index].isAvailable}" are you sure want to change ???`);
                    if (check) {
                        employees[index].isAvailable = !employees[index].isAvailable;
                        alert(`Update status success`);
                        console.table(employees);
                    }
                }
            }
        }
        function searchName() {
            if (book.length === 0) {
                alert(`List book empty`);
            } else {
                const search = prompt(`Input book need search by title:`).trim();
                const emplyeeSearchId = book.find((item) => item.title.trim().toLowerCase() === search.trim().toLowerCase());
                if (emplyeeSearchId) {
                    alert(`Found book: ID: ${emplyeeSearchId.id}, Name: ${emplyeeSearchId.name},
                                                     Position: ${emplyeeSearchId.position}, Salary: ${emplyeeSearchId.salary},`);
                    console.table([emplyeeSearchId]);
                } else {
                    alert(`Not found book`);
                }
            }
        }
    </script>
</body>

</html>